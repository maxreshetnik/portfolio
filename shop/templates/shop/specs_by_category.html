
{% extends "shop/base.html" %}

{% block title %}
<title>
    {{ view.kwargs.subcategory|default:category.name|capfirst }} - Shop
</title>
{% endblock %}

<!-- Section -->
{% block breadcrumbs %}
<ol class="breadcrumb ms-lg-4 ps-4">
    <li class="breadcrumb-item"><a href="{% url 'shop:home' %}" class="text-decoration-none">Home</a></li>
    {% if view.kwargs.subcategory %}
    <li class="breadcrumb-item">
        <a href="{% url 'shop:category' category.name|lower %}" class="text-decoration-none">{{ category.name }}</a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">{{ view.kwargs.subcategory|capfirst }}</li>
    {% else %}
    <li class="breadcrumb-item active" aria-current="page">{{ category.name }}</li>
    {% endif %}
</ol>
{% endblock %}

{% block content %}
{% include "shop/includes/section.html" %}
{% if is_paginated %}
<nav aria-label="Page navigation">
    <ul class="pagination pt-4 justify-content-center">
    {% if page_obj.has_previous %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}{{ url_keys }}">&laquo</a></li>
    {% else %}
        <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">&laquo</a></li>
    {% endif %}

    {% for num in paginator.page_range %}
        {% if num == page_obj.number %}
        <li class="page-item active" aria-current="page">
        {% else %}
        <li class="page-item">
        {% endif %}
            <a class="page-link" href="?page={{ num }}{{ url_keys }}">{{ num }}</a>
        </li>
    {% endfor %}

    {% if page_obj.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}{{ url_keys }}">&raquo</a></li>
    {% else %}
        <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">&raquo</a></li>
    {% endif %}
    </ul>
</nav>
{% endif %}
{% endblock content %}

